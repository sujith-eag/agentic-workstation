{
  "$schema": "../../_canonical_schemas/agents.schema.json",
  "workflow_id": "workflow-creation",
  "agents": [
    {
      "id": "W-00",
      "slug": "guide",
      "role": "Workflow Creation Guide",
      "agent_type": "orchestrator",
      "description": "Orients users to the workflow creation process and prepares them for Phase 01 (Domain Analysis).",
      "produces": {
        "core": ["project_index.md", "active_session.md"]
      },
      "consumes": {
        "core": []
      }
    },
    {
      "id": "W-01",
      "slug": "analysis",
      "role": "Domain Analysis Agent",
      "agent_type": "core",
      "description": "Guides user through comprehensive domain analysis to understand the workflow's purpose, phases, and constraints.",
      "produces": {
        "core": ["domain_notes.md", "phase_list.md"],
        "gating": ["gate_definitions.md"]
      },
      "consumes": {
        "core": []
      }
    },
    {
      "id": "W-02",
      "slug": "structure",
      "role": "Structure Setup Agent",
      "agent_type": "core",
      "description": "Creates the workflow package skeleton with directory structure and stub files.",
      "produces": {
        "core": ["workflow_yaml_draft.md"],
        "reference": ["structure_checklist.md"]
      },
      "consumes": {
        "core": ["domain_notes.md", "phase_list.md"],
        "gating": ["gate_definitions.md"]
      }
    },
    {
      "id": "W-03",
      "slug": "agents",
      "role": "Agent Definition Agent",
      "agent_type": "core",
      "description": "Designs and defines all agents with their roles, artifacts, and handoff relationships.",
      "produces": {
        "core": ["agents_yaml_draft.md"],
        "reference": ["handoff_flow.md"]
      },
      "consumes": {
        "core": ["domain_notes.md", "phase_list.md", "workflow_yaml_draft.md"]
      }
    },
    {
      "id": "W-04",
      "slug": "artifacts",
      "role": "Artifact Design Agent",
      "agent_type": "core",
      "description": "Defines all artifacts with their metadata, categories, and ownership mapping.",
      "produces": {
        "core": ["artifacts_yaml_draft.md"],
        "reference": ["artifact_ownership_map.md"]
      },
      "consumes": {
        "core": ["agents_yaml_draft.md"],
        "reference": ["handoff_flow.md"]
      }
    },
    {
      "id": "W-05",
      "slug": "instructions",
      "role": "Instruction Writing Agent",
      "agent_type": "core",
      "description": "Writes detailed per-agent instructions with process steps, quality criteria, and constraints.",
      "produces": {
        "core": ["instructions_yaml_draft.md"],
        "gating": ["governance_md_draft.md"]
      },
      "consumes": {
        "core": ["agents_yaml_draft.md", "artifacts_yaml_draft.md", "domain_notes.md"]
      }
    },
    {
      "id": "W-06",
      "slug": "templates",
      "role": "Template Creation Agent",
      "agent_type": "core",
      "description": "Creates prompt templates using mustache syntax for agent file generation.",
      "produces": {
        "core": ["agent_header_tpl.md", "agent_body_tpl.md"],
        "reference": ["template_test_output.md"]
      },
      "consumes": {
        "core": ["instructions_yaml_draft.md", "agents_yaml_draft.md"]
      }
    },
    {
      "id": "W-07",
      "slug": "testing",
      "role": "Testing Agent",
      "agent_type": "gating",
      "description": "Validates the complete workflow through systematic testing of all components.",
      "produces": {
        "gating": ["validation_report.md"],
        "reference": ["test_results.md"]
      },
      "consumes": {
        "core": ["workflow_yaml_draft.md", "agents_yaml_draft.md", "artifacts_yaml_draft.md", "instructions_yaml_draft.md", "agent_header_tpl.md", "agent_body_tpl.md"]
      }
    },
    {
      "id": "W-08",
      "slug": "documentation",
      "role": "Documentation Agent",
      "agent_type": "core",
      "description": "Creates user documentation and finalizes the workflow package for version control.",
      "produces": {
        "reference": ["workflow_readme.md", "commit_message.md"],
        "gating": ["final_checklist.md"]
      },
      "consumes": {
        "gating": ["validation_report.md"],
        "core": ["domain_notes.md", "agents_yaml_draft.md", "artifacts_yaml_draft.md"]
      }
    }
  ]
}
