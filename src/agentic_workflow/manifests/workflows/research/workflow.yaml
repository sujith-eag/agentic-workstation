# ==========================================================================
# RESEARCH WORKFLOW WORKFLOW
# Generated: 2025-12-05 07:40
# Source: workflow.json, agents.json
# Workflow: Research Workflow
#
# NOTE: This file is GENERATED from canonical JSON files.
#       Edit the source JSON in manifests/_canonical/ instead.
# ==========================================================================
# --- Workflow Metadata ---
name: research
workflow_id: research
display_name: Research Workflow
version: 1.0.0
description: Evidence-based academic research pipeline from ideation to publication-ready manuscripts

# --- Agent Summary (derived) --------------------------------------------
agent_summary:
  total_agents: 12
  total_artifacts: 30
  agent_counts:
    orchestrator: 1
    core: 7
    on_demand: 4
  pipeline_order:
  - R-00
  - R-01
  - R-02
  - R-03
  - R-04
  - R-05
  - R-06
  - R-07
  parallel_groups: []
  checkpoints:
  - after_agent: R-03
    type: human
    prompt: Review methodology before data collection?
    owner: R-03
    validation_command: ''
    timeout_seconds: 30
  - after_agent: R-06
    type: human
    prompt: Review manuscript quality before finalization?
    owner: R-06
    validation_command: ''
    timeout_seconds: 30
  - after_agent: R-07
    type: human
    prompt: Approve submission package?
    owner: R-07
    validation_command: ''
    timeout_seconds: 30

# --- Pipeline Configuration ---------------------------------------------
pipeline:
  order:
  - R-00
  - R-01
  - R-02
  - R-03
  - R-04
  - R-05
  - R-06
  - R-07
  on_demand:
  - R-TEX
  - R-VIZ
  - R-EDIT
  - R-STAT
  allow_skip: false
  allow_parallel: false

# --- Directory Structure ------------------------------------------------
# Used by scaffold scripts for project initialization
directories:
  root: projects/{project_name}/
  artifacts: artifacts/
  agent_files: agent_files/
  agent_context: agent_context/
  agent_log: agent_log/
  docs: docs/
  input: input/
  package: package/
  templates: templates/research/
  manuscript: output/manuscript/
  data: output/data/
  sources: output/sources/
  figures: output/figures/
  submission: output/submission/

# --- Checkpoints --------------------------------------------------------
checkpoints:
- after_agent: R-03
  type: human
  prompt: Review methodology before data collection?
  owner: R-03
  validation_command: ''
  timeout_seconds: 30
- after_agent: R-06
  type: human
  prompt: Review manuscript quality before finalization?
  owner: R-06
  validation_command: ''
  timeout_seconds: 30
- after_agent: R-07
  type: human
  prompt: Approve submission package?
  owner: R-07
  validation_command: ''
  timeout_seconds: 30

# --- Stages -------------------------------------------------------------
stages:
- id: IDEATION
  name: Ideation
  description: Research question and scope definition
- id: DISCOVERY
  name: Discovery & Synthesis
  description: Literature search, acquisition, and critical analysis
- id: METHODOLOGY
  name: Methodology
  description: Methodology design and data collection
- id: EXECUTION
  name: Execution
  description: Data analysis and interpretation
- id: WRITING
  name: Writing
  description: Manuscript drafting and quality assurance
- id: FINALIZATION
  name: Finalization
  description: Final editing and submission preparation

# --- Global Rules -------------------------------------------------------
globals:
  output_requirements:
  - Evidence-based writing with citations for all claims
  - Markdown format with proper academic structure
  - All figures/tables must have captions and citations
  non_overlap_rules:
  - Maintain citation consistency across all outputs
  - Do not fabricate or assume data without sources
  - Clearly distinguish between findings and interpretations
  log_schema:
  - 'Log File: (See `log_file` in frontmatter)'
  - 'Entry Types: FINDING | CITATION | METHOD | ANALYSIS | REVIEW'
  - 'Schema: `timestamp | entry_type | ref_ids | summary | status/outcome`'
  context_rules:
  - 'Rehydration: On startup, READ `project_index.md` → READ `context_file` → Check `exchange_log.md`'
  - 'Gating: Do NOT proceed if upstream HANDOFF is missing in `exchange_log.md`'
  - 'Citation: Every factual claim requires a citation'
